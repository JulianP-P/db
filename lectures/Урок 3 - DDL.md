Data Definition Language

## Основные объекты
### Кластер 
- База данных
- Табличное пространство
- Роль (пользователь)
### База данных
- Схема
  - Таблица
    - Индекс
  - Материализованное представление
  - Последовательность
  - Функция, процедура
  - Представление

Получение информации о бд (неважно, к какой бд подключились)
```sql
select * from pg_database
```
Подобная команда в psql
```
\l
\l+
```

Подключение к бд через psql
```sql
\c db_name
```

## CREATE
```sql
CREATE DATABASE имя
[ [ WITH ] [ OWNER [=] имя_пользователя ]     --Если не указано - пользователь, выполняющий команду
[ TEMPLATE [=] шаблон ]                       --По умолчанию - template1
[ ENCODING [=] кодировка ]                    --По умолчанию - кодировка шаблона
[ LOCALE [=] локаль ]                         --Краткий вариант определения значения для двух параметров LC_COLLATE и LC_CTYPE.
                                              --Исключает отдельное указание любого из этих параметров
[ LC_COLLATE [=] категория_сортировки ]       --Порядок сортировки. По умолчанию используется LC_COLLATE шаблона
[ LC_CTYPE [=] категория_типов_символов ]     --Классификация символов (принадлежность символов категориям, например: строчные, заглавные, цифры и т.п.).
                                              --По умолчанию используется классификация символов, установленная в шаблоне.
[ TABLESPACE [=] табл_пространство ]          --Tабличное пространство, которое будет использоваться по умолчанию для объектов, создаваемых в этой базе.
                                              --По умолчанию - табличное пространство шаблона.
[ ALLOW_CONNECTIONS [=] разр_подключения ]
[ CONNECTION LIMIT [=] предел_подключений ]
[ IS_TEMPLATE [=] это_шаблон ] ]
```
При установке кластера PostgreSQL создаются 3 базы данных:
- template0 - «Неизменный» шаблон. Его никогда нельзя менять (к нему даже подключиться нельзя)
- template1 - Шаблон по умолчанию. Но лучше его тоже не менять. Лучше создать свой шаблон и указывать его явно при создании бд.
- postgres - нужна для первого подключения к бд

## Изменение атрибутов базы данных (ALTER)
```sql
ALTER DATABASE имя RENAME TO новое_имя
ALTER DATABASE имя OWNER TO { новый_владелец | CURRENT_USER | SESSION_USER }
ALTER DATABASE имя SET TABLESPACE новое_табл_пространство
ALTER DATABASE имя SET параметр_конфигурации { TO | = } { значение | DEFAULT }
ALTER DATABASE имя SET параметр_конфигурации FROM CURRENT
ALTER DATABASE имя RESET параметр_конфигурации
ALTER DATABASE имя RESET ALL
```
Переименование бд
```sql
alter database old_name rename to new_name
```
